<mat-card class="profile-card">
  <mat-card class="profile-card-header">
    <button class="goBackButton">
      <mat-icon (click)="goBack()"
        ><mat-icon>keyboard_arrow_left</mat-icon></mat-icon
      >
    </button>
    <h1 class="header">My Profile</h1>
  </mat-card>
  <mat-card class="profile-card-content">
    <div class="prifile-image" (click)="openAddDialog()" *ngIf="provider">
      <img [src]="provider.image" alt="Profile image" />
    </div>
    <div class="profile-desc" *ngIf="provider">
      <p>{{ provider.userId }}</p>
      <p>{{ provider.email }}</p>
    </div>
    <mat-tab-group *ngIf="!editing">
      <mat-tab label="Personal Info" *ngIf="provider">
        <mat-list role="list">
          <mat-list-item role="listitem"
            >Email : {{ provider.userName }}</mat-list-item
          >
          <mat-divider></mat-divider>
          <mat-list-item role="listitem"
            >Role : {{ provider.role }}</mat-list-item
          >
        </mat-list>
      </mat-tab>
      <mat-tab label="Address" *ngIf="provider?.address">
        <mat-list role="list">
          <mat-list-item role="listitem"
            >Street : {{ provider.address.street }}</mat-list-item
          >
          <mat-divider></mat-divider>
          <mat-list-item role="listitem"
            >City : {{ provider.address.city }}</mat-list-item
          >
          <mat-divider></mat-divider>
          <mat-list-item role="listitem"
            >state : {{ provider.address.state }}</mat-list-item
          >
          <mat-divider></mat-divider>
          <mat-list-item role="listitem"
            >Zip : {{ provider.address.zip }}</mat-list-item
          >
        </mat-list>
      </mat-tab>
    </mat-tab-group>
    <form [formGroup]="providerForm">
      <mat-tab-group *ngIf="editing">
        <mat-tab label="Personal Info">
          <mat-form-field>
            <mat-label>User Name</mat-label>
            <input matInput formControlName="userName" />
          </mat-form-field>
          <mat-form-field>
            <mat-label>Phone No</mat-label>
            <input matInput formControlName="phone" />
          </mat-form-field>
        </mat-tab>
        <mat-tab label="address" formGroupName="address">
          <mat-form-field>
            <mat-label>Street</mat-label>
            <input matInput formControlName="street" /> </mat-form-field
          ><mat-form-field>
            <mat-label>City</mat-label>
            <input matInput formControlName="city" /> </mat-form-field
          ><mat-form-field>
            <mat-label>State</mat-label>
            <input matInput formControlName="state" /> </mat-form-field
          ><mat-form-field>
            <mat-label>Zip</mat-label>
            <input matInput formControlName="zip" />
          </mat-form-field>
        </mat-tab>
      </mat-tab-group>
    </form>
  </mat-card>
  <mat-card-actions *ngIf="!editing">
    <button mat-raised-button color="primary" (click)="editToggle()">
      Edit
    </button>
  </mat-card-actions>
  <mat-card-actions class="editing" *ngIf="editing">
    <button mat-button color="primary" (click)="editToggle()">Cancel</button>
    <button mat-raised-button color="primary" (click)="save()">save</button>
  </mat-card-actions>
</mat-card>
